# ðŸŒ INTERNATIONALIZATION & LOCALIZATION - COMPLETE GUIDE
## Production-Grade Global App Architecture

> **Based On**: 95+ languages supported | Multi-currency payments | RTL layout handling  
> **Purpose**: Make REST-iN-U accessible to a global audience  
> **Coverage**: i18next, Multi-currency, Date/Time Formatting, RTL

---

## ðŸ“‹ TABLE OF CONTENTS

### PART 1: TRANSLATION ARCHITECTURE
1. [Next-Intl / i18next Setup](#setup)
2. [Managing Translation Files](#json-management)
3. [Dynamic Content Translation](#dynamic-content)

### PART 2: LOCALIZATION (L10N)
4. [Multi-Currency Display](#currency)
5. [Date & Time Formatting](#datetime)
6. [Number Formatting](#numbers)

### PART 3: LAYOUT & UX
7. [RTL Support (Arabic/Hebrew)](#rtl)
8. [Cultural Nuances](#culture)

---

## PART 1: TRANSLATION ARCHITECTURE

<a name="setup"></a>
### 1. Next-Intl Setup - Real Production Code

**PRODUCTION STORY**: Hardcoded strings are technical debt.
**FIX**: Use `next-intl` for Server Components support in Next.js 13+.

```typescript
// File: frontend/src/i18n.ts
import {getRequestConfig} from 'next-intl/server';

export default getRequestConfig(async ({locale}) => ({
  messages: (await import(`../messages/${locale}.json`)).default
}));
```

```json
// File: frontend/messages/en.json
{
  "Property": {
    "price": "Price",
    "bedrooms": "{count, plural, =0 {No bedrooms} one {1 Bedroom} other {# Bedrooms}}"
  }
}
```

```tsx
// File: frontend/src/components/PropertyCard.tsx
import {useTranslations} from 'next-intl';

export default function PropertyCard({ bedrooms }) {
  const t = useTranslations('Property');
  return <p>{t('bedrooms', {count: bedrooms})}</p>;
}
```

---

## PART 2: LOCALIZATION (L10N)

<a name="currency"></a>
### 4. Multi-Currency Display

**REALITY**: Storing prices in USD is fine, but displaying them in INR/EUR is mandatory for UX.
**FIX**: `Intl.NumberFormat`

```typescript
// File: frontend/src/utils/currency.ts
export const formatPrice = (amount: number, currency: string = 'USD', locale: string = 'en-US') => {
    return new Intl.NumberFormat(locale, {
        style: 'currency',
        currency: currency,
        minimumFractionDigits: 0,
        maximumFractionDigits: 0,
    }).format(amount);
};

// Usage
formatPrice(100000, 'INR', 'en-IN'); // â‚¹1,00,000
formatPrice(100000, 'USD', 'en-US'); // $100,000
```

<a name="datetime"></a>
### 5. Date & Time Formatting

**REALITY**: "12/05/2024" is Dec 5th in US, but May 12th in India/UK.
**FIX**: Use `date-fns` or `Intl.DateTimeFormat`.

```typescript
// File: frontend/src/utils/date.ts
export const formatDate = (date: Date, locale: string) => {
    return new Intl.DateTimeFormat(locale, {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    }).format(date);
};
```

---

## PART 3: LAYOUT & UX

<a name="rtl"></a>
### 7. RTL Support (Arabic/Hebrew)

**PRODUCTION STORY**: Launched in Dubai. UI broke because layout was LTR only.
**FIX**: Use CSS Logical Properties (`margin-inline-start` instead of `margin-left`).

```css
/* BAD (LTR only) */
.icon {
    margin-right: 10px;
}

/* GOOD (RTL compatible) */
.icon {
    margin-inline-end: 10px;
}
```

**Tailwind Support**:
Tailwind handles this automatically with `rtl:` modifier or logical properties in v3.3+.
`ms-2` (margin-start) instead of `ml-2`.

---

## REAL PRODUCTION ISSUES

### Issue #1: The "Long Word" Breakage
**Scenario**: German words are long. "Property Description" -> "Immobilienbeschreibung".
**Result**: Button overflowed and broke layout.
**Fix**: Design for flexible width. Use `text-overflow: ellipsis` or wrap text.

### Issue #2: Currency Conversion Drift
**Scenario**: Displayed converted price. User paid in USD. Exchange rate changed in 5 mins.
**Fix**: Always charge in **Base Currency**. Show converted price as "Estimate Only".

---

## QUICK REFERENCE

### Localization Checklist
- [ ] Extract all hardcoded strings
- [ ] Use `Intl` for Numbers/Dates/Currencies
- [ ] Support RTL Layouts (CSS Logical Properties)
- [ ] SEO: `hreflang` tags for Google
- [ ] Test with "Pseudo-localization" (e.g., [!!! HÃ©llo WÃ³rld !!!]) to find hardcoded strings.

**END OF GUIDE 20**
